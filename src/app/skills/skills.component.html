<div class="g-grid-container">
  <div class="g-grid" @gridItemAnimation>
    <app-favorites></app-favorites>
    <app-all></app-all>
    <app-keep-learning></app-keep-learning>

    @for (section of sections; track section.heading) {
      <app-key-header [class]="section.id + ' g-grid-item-shadow'">
        {{ section.subtitle }}
      </app-key-header>

      @for (i of 2 | range; track i) {
        @if (
          (section.skills | loved).length === 0 ||
          (section.skills | loved)[i] !== undefined
        ) {
          <app-skill-highlight
            [class]="section.id + ' loved'"
            [attr.data-index]="i"
            [skill]="(section.skills | loved)[i]"
            [loading]="
              (section.skills | loved).length === 0
            "></app-skill-highlight>
        }
      }

      <app-skill-section-description
        [class]="section.id"
        [mainText]="section.heading"
        [secondaryText]="section.description"></app-skill-section-description>

      <app-skills-recap
        [class]="section.id"
        [skills]="section.skills"></app-skills-recap>
    }
  </div>
</div>
