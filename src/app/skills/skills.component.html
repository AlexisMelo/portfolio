<div class="g-grid-container">
  @for (section of sections; track section.heading) {
    <div
      class="g-grid"
      [ngClass]="section.class"
      [style]="
        '--section-bg: ' +
        section.sectionBackgroundColor +
        ';--section-color: ' +
        section.sectionColor
      ">
      <app-skill-section-header>
        <span>{{ section.subtitle }}</span>
      </app-skill-section-header>
      <app-skill-section-description
        [mainText]="section.heading"
        [secondaryText]="section.description"></app-skill-section-description>
      <app-skills-recap
        [skills]="section.skills"
        [recapBackgroundColor]="
          section.recapBackgroundColor
        "></app-skills-recap>

      @for (i of 2 | range; track i) {
        @if (
          (section.skills | learning).length === 0 ||
          (section.skills | learning)[i] !== undefined
        ) {
          <app-skill-highlight
            class="loved"
            [attr.data-index]="i"
            [skill]="(section.skills | loved)[i]"
            [iconColor]="
              themeService.isDarkMode
                ? section.sectionColor
                : section.sectionBackgroundColor
            "
            [loading]="
              (section.skills | loved).length === 0
            "></app-skill-highlight>
        }
      }

      @for (i of 2 | range; track i) {
        @if (
          (section.skills | learning).length === 0 ||
          (section.skills | learning)[i] !== undefined
        ) {
          <app-skill-highlight
            class="learning"
            [attr.data-index]="i"
            [skill]="(section.skills | learning)[i]"
            [iconColor]="
              themeService.isDarkMode
                ? section.sectionColor
                : section.sectionBackgroundColor
            "
            [loading]="
              (section.skills | learning).length === 0
            "></app-skill-highlight>
        }
      }
    </div>
  }
</div>
